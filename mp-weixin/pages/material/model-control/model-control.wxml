<!--pages/material/model-control/model-control.wxml-->
<view class="layer">
    <kivicube-scene
      class="kivicube"
      scene-id="{{sceneId}}"
      bind:error="error"
      bind:ready="ready"
      bind:downloadAssetStart="downloadAssetStart"
      bind:downloadAssetProgress="downloadAssetProgress"
      bind:downloadAssetEnd="downloadAssetEnd"
      bind:loadSceneStart="loadSceneStart"
      bind:sceneStart="sceneStart"
      bind:loadSceneEnd="loadSceneEnd"
      hideTakePhoto
      hideLoading
      hideDownload
      hideScan
    />
    <cover-view class="bottom-btn-group" wx:if="{{progress === 1}}">
      <!-- 控制模型 -->
      <cover-view class="model-btn-group">
        <cover-view class="default-view-btn" bind:tap="play" data-name="dance" data-flag="false">循环播放</cover-view>
        <cover-view class="default-view-btn" bind:tap="pause">暂停播放</cover-view>
        <cover-view class="default-view-btn" bind:tap="stopAll">停止播放</cover-view>
        <cover-view class="default-view-btn" bind:tap="play" data-name="dance" data-flag="true">重新播放</cover-view>
      </cover-view>
    </cover-view>
    <!-- loading -->
    <loading progress="{{progress}}" showProgressNum="{{false}}"></loading>
    <!-- 拍照按钮 -->
    <cover-image
      wx:if="{{showTakePhoto && photo === ''}}"
      bind:tap="handleTakephoto"
      class="take-photo"
      src="/assets/icons/btn-takephoto.png"
    ></cover-image>
    <!-- 显示照片 -->
    <cover-view class="layer photo-frame" wx:if="{{photo}}">
      <cover-image class="layer" src="{{photo}}"></cover-image>
      <cover-image
        class="btn-close"
        bind:tap="clearPhoto"
        src="/assets/icons/btn-close.png"
      ></cover-image>
      <cover-image
        class="btn-download"
        bind:tap="saveImg"
        src="/assets/icons/btn-download.png"
      ></cover-image>
    </cover-view>
  </view>
